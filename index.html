<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Russiaket</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <h1>Russiaket</h1>
    <p>The quiz game with 100 unskippable ads</p>
  </header>

  <main>
    <section id="game-area">
      <h2>Game Area</h2>
      <p>Quiz questions will appear here.</p>
      <button>Start Game</button>
    </section>

    <!-- Dynamic ad slots will be injected here -->
    <div id="ads-container"></div>
  </main>

  <!-- Fullscreen overlay ad -->
  <div id="ad-overlay">
    <div class="ad-content">
      <h2>Advertisement</h2>
      <p>This is an unskippable ad, just like YouTube.</p>
      <div class="timer">Ad ends in <span id="ad-timer">30</span> seconds</div>
    </div>
  </div>

  <script>
    // Generate 100 ad slots dynamically
    const adsContainer = document.getElementById('ads-container');
    for (let i = 1; i <= 100; i++) {
      const div = document.createElement('div');
      div.id = `ad-slot-${i}`;
      div.className = 'ad-slot';
      div.innerHTML = `<div class="house-ad">[Ad #${i}] Placeholder</div>`;
      adsContainer.appendChild(div);
    }

    class AdScheduler {
      constructor() {
        this.intervalMs = 5000;   // every 5 seconds
        this.durationMs = 30000;  // lasts 30 seconds
        this.totalAds = 100;
        this.currentAd = 1;
      }

      start() {
        setInterval(() => this.showNextAd(), this.intervalMs);
      }

      showNextAd() {
        // Hide all ads first
        for (let i = 1; i <= this.totalAds; i++) {
          document.getElementById(`ad-slot-${i}`).style.display = 'none';
        }

        // Show the next ad slot
        const slot = document.getElementById(`ad-slot-${this.currentAd}`);
        if (slot) {
          slot.style.display = 'block';
          setTimeout(() => {
            slot.style.display = 'none';
          }, this.durationMs);
        }

        // Cycle through ads
        this.currentAd++;
        if (this.currentAd > this.totalAds) {
          this.currentAd = 1;
        }

        // Also trigger overlay ad
        this.showOverlayAd();
      }

      showOverlayAd() {
        const overlay = document.getElementById('ad-overlay');
        const timerEl = document.getElementById('ad-timer');
        let remaining = this.durationMs / 1000;

        overlay.style.display = 'block';
        timerEl.textContent = remaining;

        const countdown = setInterval(() => {
          remaining--;
          timerEl.textContent = remaining;
          if (remaining <= 0) {
            clearInterval(countdown);
            overlay.style.display = 'none';
          }
        }, 1000);
      }
    }

    const scheduler = new AdScheduler();
    scheduler.start();
  </script>
</body>
</html>
